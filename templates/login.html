<!DOCTYPE html>
<html>
<head><meta charset="UTF-8"><title>验证 - 方丈机器人</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"></head>
<body class="bg-dark text-white d-flex align-items-center justify-content-center" style="height: 100vh;">
    <div class="text-center p-5 rounded bg-black border border-primary">
        <h3>安全验证码</h3>
        <div class="display-1 fw-bold text-primary my-4">{{ code }}</div>
        <p class="text-muted">请在 Telegram 中回复此数字</p>
        <div class="spinner-grow text-primary mt-2"></div>
    </div>
    <script>
        setInterval(async () => {
            const res = await fetch(`/check_status/{{ sid }}`);
            const data = await res.json();
            if (data.status === 'ok') window.location.href = `/portal?token={{ sid }}`;
        }, 2000);
    </script>
</body>
</html>

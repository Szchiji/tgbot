<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>功能设置</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <style>
        :root { --sidebar-width: 240px; --primary: #0d6efd; }
        body { background: #f4f7f9; display: flex; min-height: 100vh; }
        .sidebar { width: var(--sidebar-width); background: #fff; border-right: 1px solid #eee; position: fixed; height: 100vh; }
        .nav-link { padding: 12px 25px; color: #555; text-decoration: none; display: block; }
        .nav-link.active { background: #eef7ff; color: var(--primary); border-left: 4px solid var(--primary); }
        .main-content { margin-left: var(--sidebar-width); flex: 1; padding: 30px; }
        .card { border: none; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .form-check-input { width: 3em; height: 1.5em; cursor: pointer; }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="p-4 fw-bold text-primary border-bottom">BOT 管理后台</div>
        <div class="mt-3">
            <a href="/stats" class="nav-link"><i class="bi bi-graph-up me-2"></i>消息统计</a>
            <a href="/members" class="nav-link"><i class="bi bi-people me-2"></i>会员管理</a>
            <a href="/settings" class="nav-link active"><i class="bi bi-gear me-2"></i>机器人设置</a>
        </div>
    </div>
    <div class="main-content">
        <h4 class="mb-4">机器人自动化开关</h4>
        <form action="/update_settings" method="post" class="card">
            <div class="card-body p-0">
                <div class="p-4 border-bottom d-flex justify-content-between align-items-center">
                    <div><b>自动删除进群消息</b><br><small class="text-muted">清理“某某加入了群聊”提示</small></div>
                    <div class="form-check form-switch"><input class="form-check-input" type="checkbox" name="del_join" {% if settings.del_join %}checked{% endif %}></div>
                </div>
                <div class="p-4 border-bottom d-flex justify-content-between align-items-center">
                    <div><b>自动删除退群消息</b><br><small class="text-muted">清理“某某退出了群聊”提示</small></div>
                    <div class="form-check form-switch"><input class="form-check-input" type="checkbox" name="del_leave" {% if settings.del_leave %}checked{% endif %}></div>
                </div>
                <div class="p-4 d-flex justify-content-between align-items-center">
                    <div><b>自动删除置顶提示</b><br><small class="text-muted">管理员置顶后删除系统通知广播</small></div>
                    <div class="form-check form-switch"><input class="form-check-input" type="checkbox" name="del_pin" {% if settings.del_pin %}checked{% endif %}></div>
                </div>
            </div>
            <div class="card-footer bg-white border-0 text-end p-4">
                <button type="submit" class="btn btn-primary px-5">保存配置</button>
            </div>
        </form>
    </div>
</body>
</html>
